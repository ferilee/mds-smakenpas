(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{5637:(e,t,s)=>{"use strict";s.d(t,{HistoryCalendar:()=>l});var a=s(5155),r=s(2115);function l(){let[e,t]=(0,r.useState)(new Date().toISOString().slice(0,7)),[s,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{let t=await fetch("/api/reports/history?month=".concat(e),{cache:"no-store"});t.ok&&l((await t.json()).reports||[])})()},[e]);let n=(0,r.useMemo)(()=>{let e=new Map;for(let t of s)e.set(t.reportDate,t);return e},[s]),i=new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1+1,0).getDate();return(0,a.jsxs)("section",{className:"rounded-2xl bg-white p-5 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Kalender Ibadah Bulanan"}),(0,a.jsx)("input",{type:"month",value:e,onChange:e=>t(e.target.value),className:"rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4 lg:grid-cols-7",children:Array.from({length:i}).map((t,s)=>{var r;let l="".concat(e,"-").concat(String(s+1).padStart(2,"0")),i=n.get(l);return(0,a.jsxs)("article",{className:"rounded-lg border p-3 ".concat(i?"border-brand-200 bg-brand-50":"border-slate-200 bg-slate-50"),children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-600",children:s+1}),i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"mt-1 text-xs font-semibold text-brand-700",children:["+",i.xpGained," XP"]}),(0,a.jsx)("p",{className:"mt-1 text-[11px] text-slate-600",children:(null==(r=i.answers)?void 0:r.fasting)?"Puasa: Ya":"Puasa: Tidak"})]}):(0,a.jsx)("p",{className:"mt-1 text-[11px] text-slate-500",children:"Belum isi"})]},l)})})]})}},9748:(e,t,s)=>{Promise.resolve().then(s.bind(s,5637)),Promise.resolve().then(s.t.bind(s,2619,23))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9748)),_N_E=e.O()}]);